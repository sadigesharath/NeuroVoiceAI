<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroVoice AI - Parkinson's Disease Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <meta name="description" content="AI-powered Parkinson's Disease detection from voice analysis">
</head>
<body>
    <div class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
        <span class="theme-icon">üåô</span>
    </div>

    <div class="language-selector">
        <select id="languageSelect" aria-label="Select language">
            <option value="en">English</option>
            <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)</option>
        </select>
    </div>

    <div class="container">
        <header class="header">
            <div class="logo-container">
                <div class="logo">üß†</div>
                <h1 class="title" data-en="NeuroVoice AI" data-hi="‡§®‡•ç‡§Ø‡•Ç‡§∞‡•ã‡§µ‡•â‡§á‡§∏ ‡§è‡§Ü‡§à">NeuroVoice AI</h1>
            </div>
            <p class="subtitle" data-en="Advanced Parkinson's Disease Detection from Voice Analysis" 
               data-hi="‡§Ü‡§µ‡§æ‡§ú‡§º ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§∏‡•á ‡§â‡§®‡•ç‡§®‡§§ ‡§™‡§æ‡§∞‡•ç‡§ï‡§ø‡§Ç‡§∏‡§Ç‡§∏ ‡§∞‡•ã‡§ó ‡§ï‡§æ ‡§™‡§§‡§æ ‡§≤‡§ó‡§æ‡§®‡§æ">
                Advanced Parkinson's Disease Detection from Voice Analysis
            </p>
        </header>

        <div class="privacy-notice" id="privacyNotice">
            <div class="privacy-content">
                <h3 data-en="Privacy & Consent" data-hi="‡§ó‡•ã‡§™‡§®‡•Ä‡§Ø‡§§‡§æ ‡§î‡§∞ ‡§∏‡§π‡§Æ‡§§‡§ø">Privacy & Consent</h3>
                <p data-en="Your voice data is processed locally and securely. We do not store your recordings permanently. By proceeding, you consent to voice analysis for Parkinson's detection." 
                   data-hi="‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º ‡§ï‡§æ ‡§°‡•á‡§ü‡§æ ‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§î‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§ ‡§π‡§Æ ‡§Ü‡§™‡§ï‡•Ä ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§°‡§ø‡§Ç‡§ó ‡§∏‡•ç‡§•‡§æ‡§Ø‡•Ä ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π‡•Ä‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§">
                    Your voice data is processed locally and securely. We do not store your recordings permanently. 
                    By proceeding, you consent to voice analysis for Parkinson's detection.
                </p>
                <button class="btn btn-primary" onclick="acceptPrivacy()" data-en="I Understand & Accept" data-hi="‡§Æ‡•à‡§Ç ‡§∏‡§Æ‡§ù‡§§‡§æ ‡§π‡•Ç‡§Å ‡§î‡§∞ ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§∞‡§§‡§æ ‡§π‡•Ç‡§Å">
                    I Understand & Accept
                </button>
            </div>
        </div>

        <div class="main-content" id="mainContent" style="display: none;">
            <div class="card form-card">
                <h2 class="card-title" data-en="Patient Information" data-hi="‡§∞‡•ã‡§ó‡•Ä ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä">Patient Information</h2>
                <form id="patientForm">
                    <div class="form-group">
                        <label for="name" data-en="Full Name" data-hi="‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ">Full Name</label>
                        <input type="text" id="name" name="name" required placeholder="Enter your name">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="age" data-en="Age" data-hi="‡§â‡§Æ‡•ç‡§∞">Age</label>
                            <input type="number" id="age" name="age" min="1" max="120" required placeholder="Age">
                        </div>
                        <div class="form-group">
                            <label for="gender" data-en="Gender" data-hi="‡§≤‡§ø‡§Ç‡§ó">Gender</label>
                            <select id="gender" name="gender" required>
                                <option value="" data-en="Select" data-hi="‡§ö‡•Å‡§®‡•á‡§Ç">Select</option>
                                <option value="Male" data-en="Male" data-hi="‡§™‡•Å‡§∞‡•Å‡§∑">Male</option>
                                <option value="Female" data-en="Female" data-hi="‡§Æ‡§π‡§ø‡§≤‡§æ">Female</option>
                                <option value="Other" data-en="Other" data-hi="‡§Ö‡§®‡•ç‡§Ø">Other</option>
                            </select>
                        </div>
                    </div>
                </form>
            </div>

            <div class="card test-card">
                <h2 class="card-title" data-en="Voice Test Instructions" data-hi="‡§Ü‡§µ‡§æ‡§ú ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂">Voice Test Instructions</h2>
                <div class="pangram-box">
                    <p class="pangram-label" data-en="Please read this sentence clearly:" data-hi="‡§ï‡•É‡§™‡§Ø‡§æ ‡§á‡§∏ ‡§µ‡§æ‡§ï‡•ç‡§Ø ‡§ï‡•ã ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§™‡§¢‡§º‡•á‡§Ç:">
                        Please read this sentence clearly:
                    </p>
                    <p class="pangram-text" id="pangramText" data-en='"The quick brown fox jumps over the lazy dog"' data-hi='"‡§è‡§ï ‡§ö‡§§‡•Å‡§∞ ‡§≠‡•Ç‡§∞‡•Ä ‡§≤‡•ã‡§Æ‡§°‡§º‡•Ä ‡§Ü‡§≤‡§∏‡•Ä ‡§ï‡•Å‡§§‡•ç‡§§‡•á ‡§ï‡•á ‡§ä‡§™‡§∞ ‡§ï‡•Ç‡§¶ ‡§ó‡§à"'>
                        "The quick brown fox jumps over the lazy dog"
                    </p>
                    <ul class="instructions">
                        <li data-en="Speak at your normal volume and pace" data-hi="‡§Ö‡§™‡§®‡•Ä ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§Ü‡§µ‡§æ‡§ú‡§º ‡§î‡§∞ ‡§ó‡§§‡§ø ‡§∏‡•á ‡§¨‡•ã‡§≤‡•á‡§Ç">Speak at your normal volume and pace</li>
                        <li data-en="Record for at least 3-5 seconds" data-hi="‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ 3-5 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§ï‡§∞‡•á‡§Ç">Record for at least 3-5 seconds</li>
                        <li data-en="Ensure minimal background noise" data-hi="‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§™‡•É‡§∑‡•ç‡§†‡§≠‡•Ç‡§Æ‡§ø ‡§∂‡•ã‡§∞ ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç">Ensure minimal background noise</li>
                    </ul>
                </div>

                <div class="test-options">
                    <div class="option-btn" onclick="showRecordingInterface()">
                        <span class="icon">üé§</span>
                        <h3 data-en="Record Voice" data-hi="‡§Ü‡§µ‡§æ‡§ú ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§ï‡§∞‡•á‡§Ç">Record Voice</h3>
                        <p data-en="Use your microphone" data-hi="‡§Ö‡§™‡§®‡•á ‡§Æ‡§æ‡§á‡§ï‡•ç‡§∞‡•ã‡§´‡§º‡•ã‡§® ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç">Use your microphone</p>
                    </div>
                    <div class="option-btn" onclick="showUploadInterface()">
                        <span class="icon">üìÅ</span>
                        <h3 data-en="Upload Audio" data-hi="‡§ë‡§°‡§ø‡§Ø‡•ã ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç">Upload Audio</h3>
                        <p data-en="Upload a .wav file" data-hi=".wav ‡§´‡§º‡§æ‡§á‡§≤ ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç">Upload a .wav file</p>
                    </div>
                </div>
            </div>

            <div class="card recording-card" id="recordingCard" style="display: none;">
                <h2 class="card-title" data-en="Recording Interface" data-hi="‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§°‡§ø‡§Ç‡§ó ‡§á‡§Ç‡§ü‡§∞‡§´‡§º‡•á‡§∏">Recording Interface</h2>
                <div class="recording-controls">
                    <button class="btn btn-record" id="recordBtn" onclick="toggleRecording()">
                        <span class="record-icon">‚óè</span>
                        <span data-en="Start Recording" data-hi="‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§°‡§ø‡§Ç‡§ó ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç">Start Recording</span>
                    </button>
                    <div class="timer" id="timer">00:00</div>
                </div>
                <div class="waveform" id="waveform">
                    <canvas id="visualizer" width="600" height="100"></canvas>
                </div>
                <audio id="audioPlayback" controls style="display: none; width: 100%; margin-top: 20px;"></audio>
                <button class="btn btn-primary" id="analyzeRecordingBtn" onclick="analyzeRecording()" style="display: none;" data-en="Analyze Recording" data-hi="‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§°‡§ø‡§Ç‡§ó ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡•á‡§Ç">
                    Analyze Recording
                </button>
            </div>

            <div class="card upload-card" id="uploadCard" style="display: none;">
                <h2 class="card-title" data-en="Upload Audio File" data-hi="‡§ë‡§°‡§ø‡§Ø‡•ã ‡§´‡§º‡§æ‡§á‡§≤ ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç">Upload Audio File</h2>
                <div class="upload-area" id="uploadArea">
                    <input type="file" id="fileInput" accept=".wav,.mp3,.ogg,.flac" style="display: none;" onchange="handleFileSelect(event)">
                    <div class="upload-prompt" onclick="document.getElementById('fileInput').click()">
                        <span class="upload-icon">üì§</span>
                        <p data-en="Click to select or drag & drop audio file" data-hi="‡§ë‡§°‡§ø‡§Ø‡•ã ‡§´‡§º‡§æ‡§á‡§≤ ‡§ö‡•Å‡§®‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç">Click to select or drag & drop audio file</p>
                        <small data-en="Supported formats: WAV, MP3, OGG, FLAC" data-hi="‡§∏‡§Æ‡§∞‡•ç‡§•‡§ø‡§§ ‡§™‡•ç‡§∞‡§æ‡§∞‡•Ç‡§™: WAV, MP3, OGG, FLAC">Supported formats: WAV, MP3, OGG, FLAC</small>
                    </div>
                </div>
                <div id="selectedFile" style="display: none;">
                    <p data-en="Selected file:" data-hi="‡§ö‡§Ø‡§®‡§ø‡§§ ‡§´‡§º‡§æ‡§á‡§≤:">Selected file: <span id="fileName"></span></p>
                    <button class="btn btn-primary" onclick="analyzeUploadedFile()" data-en="Analyze Audio" data-hi="‡§ë‡§°‡§ø‡§Ø‡•ã ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡•á‡§Ç">Analyze Audio</button>
                </div>
            </div>

            <div class="loading-overlay" id="loadingOverlay" style="display: none;">
                <div class="loading-content">
                    <div class="spinner"></div>
                    <h3 data-en="Analyzing Voice Sample..." data-hi="‡§Ü‡§µ‡§æ‡§ú ‡§ï‡•á ‡§®‡§Æ‡•Ç‡§®‡•á ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...">Analyzing Voice Sample...</h3>
                    <p data-en="Extracting acoustic features and running AI analysis" data-hi="‡§ß‡•ç‡§µ‡§®‡§ø‡§ï ‡§µ‡§ø‡§∂‡•á‡§∑‡§§‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§®‡§ø‡§ï‡§æ‡§≤‡§®‡§æ ‡§î‡§∞ AI ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ö‡§≤‡§æ‡§®‡§æ">Extracting acoustic features and running AI analysis</p>
                </div>
            </div>

            <div class="card results-card" id="resultsCard" style="display: none;">
                <h2 class="card-title" data-en="Analysis Results" data-hi="‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ">Analysis Results</h2>
                
                <div class="result-summary" id="resultSummary">
                    <div class="result-icon" id="resultIcon"></div>
                    <h3 class="result-text" id="resultText"></h3>
                    <div class="confidence-bar">
                        <div class="confidence-label" data-en="Confidence Level:" data-hi="‡§Ü‡§§‡•ç‡§Æ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏ ‡§∏‡•ç‡§§‡§∞:">Confidence Level:</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="confidenceFill"></div>
                        </div>
                        <div class="confidence-value" id="confidenceValue"></div>
                    </div>
                </div>

                <div class="features-analysis">
                    <h3 data-en="Voice Features Analysis (Explainable AI)" data-hi="‡§Ü‡§µ‡§æ‡§ú ‡§µ‡§ø‡§∂‡•á‡§∑‡§§‡§æ‡§è‡§Ç ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£">Voice Features Analysis (Explainable AI)</h3>
                    <p class="features-intro" data-en="Key voice biomarkers that influenced this prediction:" data-hi="‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§Ü‡§µ‡§æ‡§ú ‡§¨‡§æ‡§Ø‡•ã‡§Æ‡§æ‡§∞‡•ç‡§ï‡§∞ ‡§ú‡§ø‡§®‡•ç‡§π‡•ã‡§Ç‡§®‡•á ‡§á‡§∏ ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§ï‡•ã ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ:">
                        Key voice biomarkers that influenced this prediction:
                    </p>
                    <div id="featuresList"></div>
                </div>

                <div class="recommendations" id="recommendations">
                    <h3 data-en="Clinical Recommendations" data-hi="‡§®‡•à‡§¶‡§æ‡§®‡§ø‡§ï ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂‡•á‡§Ç">Clinical Recommendations</h3>
                    <div id="recommendationText"></div>
                </div>

                <div class="actions">
                    <button class="btn btn-success" id="downloadBtn" onclick="downloadReport()">
                        <span>üìÑ</span>
                        <span data-en="Download PDF Report" data-hi="‡§™‡•Ä‡§°‡•Ä‡§è‡§´ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç">Download PDF Report</span>
                    </button>
                    <button class="btn btn-secondary" onclick="resetTest()" data-en="Test Again" data-hi="‡§´‡§ø‡§∞ ‡§∏‡•á ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§ï‡§∞‡•á‡§Ç">Test Again</button>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p data-en="‚öïÔ∏è Medical Disclaimer: This tool is for informational purposes only and should not replace professional medical advice. Consult a neurologist for proper diagnosis." 
               data-hi="‚öïÔ∏è ‡§ö‡§ø‡§ï‡§ø‡§§‡•ç‡§∏‡§æ ‡§Ö‡§∏‡•ç‡§µ‡•Ä‡§ï‡§∞‡§£: ‡§Ø‡§π ‡§â‡§™‡§ï‡§∞‡§£ ‡§ï‡•á‡§µ‡§≤ ‡§∏‡•Ç‡§ö‡§®‡§æ‡§§‡•ç‡§Æ‡§ï ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•à ‡§î‡§∞ ‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§ö‡§ø‡§ï‡§ø‡§§‡•ç‡§∏‡§æ ‡§∏‡§≤‡§æ‡§π ‡§ï‡•Ä ‡§ú‡§ó‡§π ‡§®‡§π‡•Ä‡§Ç ‡§≤‡•á‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§">
                ‚öïÔ∏è Medical Disclaimer: This tool is for informational purposes only and should not replace professional medical advice. Consult a neurologist for proper diagnosis.
            </p>
            <p data-en="Built with ‚ù§Ô∏è for accessible healthcare | Open Source | Privacy First" 
               data-hi="‡§∏‡•Å‡§≤‡§≠ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§¶‡•á‡§ñ‡§≠‡§æ‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‚ù§Ô∏è ‡§ï‡•á ‡§∏‡§æ‡§• ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ">
                Built with ‚ù§Ô∏è for accessible healthcare | Open Source | Privacy First
            </p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
